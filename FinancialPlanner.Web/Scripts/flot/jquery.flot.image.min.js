(function(n){function t(n,t,i){var b=n.getPlotOffset(),a,k,c;if(i.images&&i.images.show)for(a=i.datapoints.points,k=i.datapoints.pointsize,c=0;c<a.length;c+=k){var l=a[c],r=a[c+1],u=a[c+2],f=a[c+3],e=a[c+4],s=i.xaxis,h=i.yaxis,o;if(l&&!(l.width<=0)&&!(l.height<=0)&&(r>f&&(o=f,f=r,r=o),u>e&&(o=e,e=u,u=o),i.images.anchor=="center"&&(o=.5*(f-r)/(l.width-1),r-=o,f+=o,o=.5*(e-u)/(l.height-1),u-=o,e+=o),r!=f&&u!=e&&!(r>=s.max)&&!(f<=s.min)&&!(u>=h.max)&&!(e<=h.min))){var v=0,y=0,p=l.width,w=l.height;r<s.min&&(v+=(p-v)*(s.min-r)/(f-r),r=s.min);f>s.max&&(p+=(p-v)*(s.max-f)/(f-r),f=s.max);u<h.min&&(w+=(y-w)*(h.min-u)/(e-u),u=h.min);e>h.max&&(y+=(y-w)*(h.max-e)/(e-u),e=h.max);r=s.p2c(r);f=s.p2c(f);u=h.p2c(u);e=h.p2c(e);r>f&&(o=f,f=r,r=o);u>e&&(o=e,e=u,u=o);o=t.globalAlpha;t.globalAlpha*=i.images.alpha;t.drawImage(l,v,y,p-v,w-y,r+b.left,u+b.top,f-r,e-u);t.globalAlpha=o}}}function i(n,t,i,r){t.images.show&&(r.format=[{required:!0},{x:!0,number:!0,required:!0},{y:!0,number:!0,required:!0},{x:!0,number:!0,required:!0},{y:!0,number:!0,required:!0}])}function r(n){n.hooks.processRawData.push(i);n.hooks.drawSeries.push(t)}n.plot.image={};n.plot.image.loadDataImages=function(t,i,r){var u=[],f=[],e=i.series.images.show;n.each(t,function(t,i){(e||i.images.show)&&(i.data&&(i=i.data),n.each(i,function(n,t){typeof t[0]=="string"&&(u.push(t[0]),f.push(t))}))});n.plot.image.load(u,function(t){n.each(f,function(n,i){var r=i[0];t[r]&&(i[0]=t[r])});r()})};n.plot.image.load=function(t,i){var r=t.length,u={};r==0&&i({});n.each(t,function(t,f){var e=function(){--r;u[f]=this;r==0&&i(u)};n("<img />").load(e).error(e).attr("src",f)})};n.plot.plugins.push({init:r,options:{series:{images:{show:!1,alpha:1,anchor:"corner"}}},name:"image",version:"1.1"})})(jQuery);
//# sourceMappingURL=jquery.flot.image.min.js.map
