(function(n){function t(t){var i=[],f,o=!1,u,e,r;t.hooks.draw.push(function(t,s){var l,a,v,p,w,h,g,nt,c;if(o){if(i.length===0)return;for(l=t.getAxes().xaxis,w=l.box,c=0;c<i.length;c++)(h=i[c],h.label)&&(s.save(),s.font=f,u<=90?(g=-Math.ceil(Math.cos(r)*h.height),nt=Math.ceil(Math.sin(r)*h.height),s.translate(Math.round(t.getPlotOffset().left+l.p2c(h.v))+g,w.top+w.padding+t.getOptions().grid.labelMargin+nt),s.rotate(e)):(g=Math.ceil(Math.cos(r)*h.height)-Math.ceil(Math.cos(r)*h.width),nt=Math.ceil(Math.sin(r)*h.width)+Math.ceil(Math.sin(r)*h.height),s.translate(Math.round(t.getPlotOffset().left+l.p2c(h.v)+g),w.top+w.padding+t.getOptions().grid.labelMargin+nt),s.rotate(-r)),s.fillText(h.label,0,0),s.restore())}else{if(a=t.getAxes().xaxis.options,a.rotateTicks===undefined)return;if(u=parseInt(a.rotateTicks,10),u.toString()!=a.rotateTicks||u==0||u>=180)return;e=u*Math.PI/180;r=u>90?Math.PI-e:Math.PI/2-e;f=a.rotateTicksFont;f||(f=n(".tickLabel").css("font"));f||(f="smaller sans-serif");var y,b=0,k=0,d=0,tt=0;if(l=t.getAxes().xaxis,i=t.getAxes().xaxis.ticks,l.rotatedTicks=i,a.ticks=[],i!==undefined){for(c=0;c<i.length;c++)y=n('<span style="font:'+f+'">'+i[c].label+"<\/span>"),t.getPlaceholder().append(y),i[c].height=y.outerHeight(!0),i[c].width=y.outerWidth(!0),y.remove(),i[c].height>k&&(k=i[c].height),i[c].width>b&&(b=i[c].width),h=i[c],u>90?(v=Math.round(t.getPlotOffset().left+l.p2c(h.v))-Math.ceil(Math.cos(r)*h.height)-Math.ceil(Math.cos(r)*h.width),v<d&&(d=v)):(v=Math.round(t.getPlotOffset().left+l.p2c(h.v))+Math.ceil(Math.cos(r)*h.height)+Math.ceil(Math.cos(r)*h.width),v>tt&&(tt=v));u>90?(p=e-Math.PI/2,a.labelHeight=Math.ceil(Math.sin(p)*b)+Math.ceil(Math.sin(p)*k)):(p=Math.PI/2-e,a.labelHeight=Math.ceil(Math.sin(e)*b)+Math.ceil(Math.sin(p)*k));d<0&&(t.getAxes().yaxis.options.labelWidth=-1*d);o=!0;t.setupGrid();t.draw()}}})}n.plot.plugins.push({init:t,options:{},name:"FP-TickRotor",version:"1.0"})})(jQuery);
//# sourceMappingURL=jquery.flot.fp-tickrotor.min.js.map
