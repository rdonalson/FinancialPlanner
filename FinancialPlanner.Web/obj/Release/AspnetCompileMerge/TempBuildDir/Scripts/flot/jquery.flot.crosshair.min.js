(function(n){function t(n){function i(){t.locked||t.x!=-1&&(t.x=-1,n.triggerRedrawOverlay())}function r(i){if(!t.locked){if(n.getSelection&&n.getSelection()){t.x=-1;return}var r=n.offset();t.x=Math.max(0,Math.min(i.pageX-r.left,n.width()));t.y=Math.max(0,Math.min(i.pageY-r.top,n.height()));n.triggerRedrawOverlay()}}var t={x:-1,y:-1,locked:!1};n.setCrosshair=function(i){if(i){var r=n.p2c(i);t.x=Math.max(0,Math.min(r.left,n.width()));t.y=Math.max(0,Math.min(r.top,n.height()))}else t.x=-1;n.triggerRedrawOverlay()};n.clearCrosshair=n.setCrosshair;n.lockCrosshair=function(i){i&&n.setCrosshair(i);t.locked=!0};n.unlockCrosshair=function(){t.locked=!1};n.hooks.bindEvents.push(function(n,t){n.getOptions().crosshair.mode&&(t.mouseout(i),t.mousemove(r))});n.hooks.drawOverlay.push(function(n,i){var r=n.getOptions().crosshair,u,f,e,o;r.mode&&(u=n.getPlotOffset(),i.save(),i.translate(u.left,u.top),t.x!=-1&&(f=n.getOptions().crosshair.lineWidth%2?.5:0,i.strokeStyle=r.color,i.lineWidth=r.lineWidth,i.lineJoin="round",i.beginPath(),r.mode.indexOf("x")!=-1&&(e=Math.floor(t.x)+f,i.moveTo(e,0),i.lineTo(e,n.height())),r.mode.indexOf("y")!=-1&&(o=Math.floor(t.y)+f,i.moveTo(0,o),i.lineTo(n.width(),o)),i.stroke()),i.restore())});n.hooks.shutdown.push(function(n,t){t.unbind("mouseout",i);t.unbind("mousemove",r)})}n.plot.plugins.push({init:t,options:{crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}},name:"crosshair",version:"1.0"})})(jQuery);
//# sourceMappingURL=jquery.flot.crosshair.min.js.map
